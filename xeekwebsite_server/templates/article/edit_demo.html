{% extends 'base.html' %}
{% block header %}
<h1>{% block title %}文档编辑{% endblock %}</h1>
{% endblock %}

{% block script %}
<script src="https://cdn.bootcss.com/showdown/1.8.6/showdown.min.js"></script>
{% endblock %}

{% block content_header %}
{% endblock %}

{% block content_body %}
<div class="flex-row flex-main-between">
    <div style="with:50%">
        <textarea id="oriContent" style="height:400px;width:600px;" onkeyup="convert()"></textarea>
    </div>
    <div style="width:50%">
        <div id="result" style="width:100%;height:auto"></div>
    </div>
</div>
<script type="text/javascript">
    $('#oriContent').text('{{article.content}}')
    function convert() {
        var text = document.getElementById("oriContent").value;
        var converter = new showdown.Converter();
        var html = converter.makeHtml(text);
        document.getElementById("result").innerHTML = html;
    }
</script>
{% endblock %}

{% block content_footer %}
{% endblock %}